import{s as g,h as u}from"./modalHelper-md1zrCQj.js";import{b as p,M as m}from"./bootstrap.esm-CU4uQQQ5.js";window.bootstrap=p;document.querySelector("#searchPayment");const n=document.querySelector("#ammount"),i=document.querySelector("#porPagar"),s=document.querySelector("#pagado"),r=document.querySelector("#payment_date"),y=document.querySelector("#case");document.querySelector("#payment_description");document.querySelector("#ListaPagos");const o=document.querySelector("#addPayment"),b=document.getElementById("grafica").getContext("2d");new m(document.getElementById("modalCarga"),{backdrop:"static",keyboard:!1});const t=new m(document.getElementById("modalError"));h();async function h(){s.checked=!0;try{const a=await(await fetch("/get-token")).json(),c=await fetch("https://api.lexialegal.site/api/legal-cases",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${a.token}`}}),l=await c.json();c.ok&&(console.log(l.data),$("#case").append("<option selected disabled>Selecciona un caso</option>"),l.data.forEach(d=>{$("#case").append(`<option class="option" value="${d.id}">${d.caso_nombre}</option>`)}))}catch{g(t),u(t,2e3)}}document.querySelectorAll(".btn-toggle-group input").forEach(e=>{e.addEventListener("change",()=>{document.querySelectorAll(".btn-toggle").forEach(a=>a.classList.remove("active")),e.nextElementSibling.classList.add("active")})});new Chart(b,{type:"bar",data:{labels:["Enero","Feb","Mar","Abr","May","Jun"],datasets:[{label:"Pagado",data:[2500,3e3,2800,3500,2900,3700],backgroundColor:"#0c2d48",barPercentage:.4,categoryPercentage:.6,borderRadius:4},{label:"Por pagar",data:[1800,2200,1900,2500,2e3,2700],backgroundColor:"#6c757d",barPercentage:.4,categoryPercentage:.6,borderRadius:4}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:900}}}}});y.addEventListener("change",()=>{console.log(n.value),console.log(r.value),console.log(i.checked),console.log(s.checked),n.value==""&&r.value==""&&i.checked||n.value==""&&r.value==""&&s.checked?(o.disabled="true",o.style.opacity=".3"):(o.disabled="false",o.style.opacity="1")});o.addEventListener("click",async e=>{try{const c=await(await fetch("/get-token")).json();console.log("agregar pago")}catch{g(t),u(t,2e3)}});
